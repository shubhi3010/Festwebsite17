var trueURL = null;
$(window).load(function () {
    trueURL = window.location.pathname;
    console.log(trueURL);
})

function layoutSettings() {

    wW = window.innerWidth, wH = window.innerHeight;
    var a = $("#menu li a").height();

    $("#menu li a").css("line-height", a + "px")

}

function timerIncrement() {

    idleTime++, idleTime >= 5 && !$("body").hasClass("overlay-visible") && (paused = !1, idleTime = 0)

}

function setProgressTime(a) {
    switch (a) {

        case "home":
            progressTime = 0;
            break;

        case "about":
            progressTime = 100 / 8 * 1;
            break;

        case "events":
            progressTime = 100 / 8 * 2;
            break;

        case "schedule":
            progressTime = 100 / 8 * 3;
            break;

        case "pronight":
            progressTime = 100 / 8 * 4;
            break;

        case "gallery":
            progressTime = 100 / 8 * 5;
            break;

        case "sponsors":
            progressTime = 100 / 8 * 6;
            break;

        case "team":
            progressTime = 100 / 8 * 7;
            break;


    }


}

function setDestination(a) {

    var b;

    return b = 100 / 8 > a ? "home" : a >= 100 / 8 * 1 && 100 / 8 * 2 > a ? "about" : a >= 100 / 8 * 2 && 100 / 8 * 3 > a ? "events" : a >= 100 / 8 * 3 && 100 / 8 * 4 > a ? "schedule" : a >= 100 / 8 * 4 && 100 / 8 * 5 > a ? "pronight" : a >= 100 / 8 * 5 && 100 / 8 * 6 > a ? "gallery" : a >= 100 / 8 * 6 && 100 / 8 * 7 > a ? "sponsors" : "team";


}

function moveProgressschedule() {

    progressschedule.css({
        transform: "translate3d(" + wW / 100 * progressTime + "px,0,0)"
    }), progressOverlay.css({
        transform: "translate3d(" + (-wW + wW / 100 * progressTime) + "px,0,0)"
    })

}

function progress() {

    if (!paused) {

        //progressTime>100&&(progressTime=0),moveProgressschedule();

        var a = setDestination(progressTime);

        if (a == "home") {

            progressTime > (100 / 8) && (progressTime = 0), moveProgressschedule();

            a !== currentSectionName && changeSection(a), progressTime++;

            if (progressTime >= 100 / 8)
                setProgressTime("home");


        }

        if (a == "about") {

            progressTime > (100 / 8 * 2) && (progressTime = 100 / 8), moveProgressschedule();

            a !== currentSectionName && changeSection(a), progressTime++;

            if (progressTime >= 200 / 8)
                setProgressTime("about");


        } else if (a == "events") {

            progressTime > (100 / 8 * 3) && (progressTime = (100 / 8 * 2)), moveProgressschedule();

            a !== currentSectionName && changeSection(a), progressTime++;

            if (progressTime >= 300 / 8)
                setProgressTime("events");


        } else if (a == "schedule") {

            progressTime > (100 / 8 * 4) && (progressTime = (100 / 8 * 3)), moveProgressschedule();

            a !== currentSectionName && changeSection(a), progressTime++;

            if (progressTime >= 400 / 8)
                setProgressTime("schedule");


        } else if (a == "pronight") {

            progressTime > (100 / 8 * 5) && (progressTime = (100 / 8 * 4)), moveProgressschedule();

            a !== currentSectionName && changeSection(a), progressTime++;

            if (progressTime >= 500 / 8)
                setProgressTime("pronight");


        } else if (a == "gallery") {

            progressTime > (100 / 8 * 6) && (progressTime = (100 / 8 * 5)), moveProgressschedule();

            a !== currentSectionName && changeSection(a), progressTime++;

            if (progressTime >= 600 / 8)
                setProgressTime("gallery");


        } else if (a == "sponsors") {

            progressTime > (100 / 8 * 7) && (progressTime = (100 / 8 * 6)), moveProgressschedule();

            a !== currentSectionName && changeSection(a), progressTime++;

            if (progressTime >= 700 / 8)
                setProgressTime("sponsors");


        } else if (a == "team") {

            progressTime > (100) && (progressTime = (100 / 8 * 7)), moveProgressschedule();

            a !== currentSectionName && changeSection(a), progressTime++;


        }


    }


}

function getPictures() {
    $("#bg-transitions > div:not(:first)").each(function () {
        for (var a = $(this), b = a.find("img"), c = [], d = 0; d < b.length; d++) c[d] = $(b[d]).attr("src");
        pictures[a.attr("rel")] = c
    }), currentSet = pictures[currentSectionName]
}

function setupBackgrounds() {
    $("#bg-transitions > div:not(:first)").each(function () {
        var a = $(this),
            b = $(this).data("slices-number"),
            c = $(this).find("img:first").attr("src"),
            d = '<div class="bg-slice"><div class="bg-image"><img src="' + c + '" alt="" /></div></div>';
        a.html("");
        for (var e = 0; b > e; e++) a.append(d)
    })
}

function fadeIn(a) {
    if (!transitioning && "home" !== currentSectionName && "team" !== currentSectionName) {
        fading = !0, $("#bg-fade").css("background", "#000");
        var b = $("#bg-transitions .current"),
            c = b.find("img");
        b.removeClass("scaling"), b.fadeOut(800, function () {
            c.attr("src", a)
        }).fadeIn(800, function () {
            fading = !1
        })
    }

}
var p = null;

function changeSection(a) {
    console.log("a", a);
    if (!transitioning && !fading) {
        if (trueURL.lastIndexOf(".com") + 4 !== trueURL.length - 1) {
            // anywhere except www.taarangana.com opened
            p == null ? p = "../" + a : p = a;
        } else {
            // homepage opened
            p = a; //perfecto
        }
        console.log("p", p);
        transitioning = !0, $("body").addClass("transitioning"), clearInterval(diapo), currentSet = pictures[a], currentPic = 1;

        var b = trst.find("div[rel=" + currentSectionName + "]"),
            c = trst.find("div[rel=" + a + "]"),
            d = $("#" + currentSectionName);

        "about" === a ? $("#sales-vignette").addClass("hidden") : $("#sales-vignette").removeClass("hidden"), body.removeClass("menu"), d.removeClass("current"), $("#menu a").removeClass("current"), $("a[href=" + a + "]").addClass("current"),
            "home" === a || isSafari || (c.find("img").attr("src", currentSet[0]), $("#bg-fade").css("background", "url('" + currentSet[0] + "')")),

            setTimeout(function () {
                b.addClass("triggered"), c.addClass("current scaling"), content.load(p + " #content>*"), $("title").load(a + " title", "", function () {
                    document.title = $(this).text()
                })
            }, 400),
            setTimeout(function () {
                $("#" + a).addClass("current")
            }, 1600),
            setTimeout(function () {
                b.removeClass("current")
            }, 2600),
            setTimeout(function () {
                b.removeClass("triggered")
            }, 2700),
            setTimeout(function () {
                transitioning = !1, $("body").removeClass("transitioning"), "home" === a ? history.pushState(a, "", "/www.taarangana.com/") : history.pushState(a, "", "/www.taarangana.com/" + a)
            }, 2800), currentSectionName = a, "home" === a ? (setTimeout(function () {
                introHeight = $(".scroll-down").height(), introHolder = $(".scroll-down > span")
            }, 2850), wW > 1023 && video.play()) : video.pause(), track(a)

    }


}

function getNext(a) {
    var b = sections.indexOf(a);
    return b++, b >= sections.length && (b = 0), sections[b]
}

function getPrevious(a) {
    var b = sections.indexOf(a);
    return b--, 0 > b && (b = sections.length - 1), sections[b]
}

function switchIntro() {
    transitioning || (currentTitle > $(".scroll-down span").length - 2 && (currentTitle = 0), introHolder.css({
        transform: "translate3d(0,-" + introHeight * currentTitle + "px,0)"
    }), currentTitle++)
}



function unfoldProduct(a) {

    if ($("body").hasClass("single-product")) prOverlay.removeClass("visible"), $(".product-picture-drawer").css({

        transform: "translate3d(0,0,0)"

    }), setTimeout(function () {

        $("#products").css({

            transform: "translate3d(0,0,0) scale(1,1)"

        }), $("body").removeClass("single-product")

    }, 600), setTimeout(function () {

        $(".products-container").css("overflow", "")

    }, 1600);

    else {

        $("body").addClass("single-product");

        var b = a.parent("li"),
            c = {

                top: 0,
                left: 0

            };

        c.top = b.offset().top, c.left = b.offset().left;

        var d = wH / b.height() > 3 ? wH / b.height() : 3,
            e = 3 * -c.left,
            f = -Math.ceil(2 * (c.top - $("#products").offset().top) + c.top + 1);

        $("#products").css({

            transform: "translate3d(" + e + "px," + f + "px,0) scale(3," + d + ")"

        }), $(".products-container").css("overflow", "hidden"), setTimeout(function () {

            prOverlay.addClass("visible"), $(".product-picture-drawer").css({

                transform: "translate3d(0," + wH + "px,0)"

            })

        }, 400)

    }


}






function track(a) {
    void 0 !== ga && ga("send", "pageview", a), void 0 !== fbq && fbq("track", "PageView")
}! function (a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a : a(jQuery)
}
(function (a) {
    function b(b) {
        var g = b || window.event,
            h = i.call(arguments, 1),
            j = 0,
            l = 0,
            m = 0,
            n = 0,
            o = 0,
            p = 0;
        if (b = a.event.fix(g), b.type = "mousewheel", "detail" in g && (m = -1 * g.detail), "wheelDelta" in g && (m = g.wheelDelta), "wheelDeltaY" in g && (m = g.wheelDeltaY), "wheelDeltaX" in g && (l = -1 * g.wheelDeltaX), "axis" in g && g.axis === g.HORIZONTAL_AXIS && (l = -1 * m, m = 0), j = 0 === m ? l : m, "deltaY" in g && (m = -1 * g.deltaY, j = m), "deltaX" in g && (l = g.deltaX, 0 === m && (j = -1 * l)), 0 !== m || 0 !== l) {
            if (1 === g.deltaMode) {
                var q = a.data(this, "mousewheel-line-height");
                j *= q, m *= q, l *= q
            } else if (2 === g.deltaMode) {
                var r = a.data(this, "mousewheel-page-height");
                j *= r, m *= r, l *= r
            }
            if (n = Math.max(Math.abs(m), Math.abs(l)), (!f || f > n) && (f = n, d(g, n) && (f /= 40)), d(g, n) && (j /= 40, l /= 40, m /= 40), j = Math[j >= 1 ? "floor" : "ceil"](j / f), l = Math[l >= 1 ? "floor" : "ceil"](l / f), m = Math[m >= 1 ? "floor" : "ceil"](m / f), k.settings.normalizeOffset && this.getBoundingClientRect) {
                var s = this.getBoundingClientRect();
                o = b.clientX - s.left, p = b.clientY - s.top
            }
            return b.deltaX = l, b.deltaY = m, b.deltaFactor = f, b.offsetX = o, b.offsetY = p, b.deltaMode = 0, h.unshift(b, j, l, m), e && clearTimeout(e), e = setTimeout(c, 200), (a.event.dispatch || a.event.handle).apply(this, h)
        }

    }

    function c() {
        f = null
    }

    function d(a, b) {
        return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0
    }
    var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
        h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
        i = Array.prototype.slice;
    if (a.event.fixHooks)
        for (var j = g.length; j;) a.event.fixHooks[g[--j]] = a.event.mouseHooks;
    var k = a.event.special.mousewheel = {
        version: "3.1.12",
        setup: function () {

            if (this.addEventListener)
                for (var c = h.length; c;)
                    this.addEventListener(h[--c], b, !1);

            else
                this.onmousewheel = b;

            a.data(this, "mousewheel-line-height", k.getLineHeight(this)), a.data(this, "mousewheel-page-height", k.getPageHeight(this))

        },
        teardown: function () {
            if (this.removeEventListener)
                for (var c = h.length; c;) this.removeEventListener(h[--c], b, !1);
            else this.onmousewheel = null;
            a.removeData(this, "mousewheel-line-height"), a.removeData(this, "mousewheel-page-height")
        },
        getLineHeight: function (b) {
            var c = a(b),
                d = c["offsetParent" in a.fn ? "offsetParent" : "parent"]();
            return d.length || (d = a("body")), parseInt(d.css("fontSize"), 10) || parseInt(c.css("fontSize"), 10) || 16
        },
        getPageHeight: function (b) {
            return a(b).height()
        },
        settings: {
            adjustOldDeltas: !0,
            normalizeOffset: !0
        }

    };
    a.fn.extend({
        mousewheel: function (a) {
            return a ? this.bind("mousewheel", a) : this.trigger("mousewheel")
        },
        unmousewheel: function (a) {
            return this.unbind("mousewheel", a)
        }

    })
}),
function (a) {
    "function" == typeof define && define.amd && define.amd.jQuery ? define(["jquery"], a) : a(jQuery)
}
(function (a) {
    function b(b) {
        return !b || void 0 !== b.allowPageScroll || void 0 === b.swipe && void 0 === b.swipeStatus || (b.allowPageScroll = j), void 0 !== b.click && void 0 === b.tap && (b.tap = b.click), b || (b = {

        }), b = a.extend({

        }, a.fn.swipe.defaults, b), this.each(function () {
            var d = a(this),
                e = d.data(B);
            e || (e = new c(this, b), d.data(B, e))
        })
    }

    function c(b, c) {
        function C(b) {
            if (!(jb() || a(b.target).closest(c.excludedElements, Sb).length > 0)) {
                var d, e = b.originalEvent ? b.originalEvent : b,
                    f = y ? e.touches[0] : e;
                return Tb = u, y ? Ub = e.touches.length : b.preventDefault(), Jb = 0, Kb = null, Qb = null, Lb = 0, Mb = 0, Nb = 0, Ob = 1, Pb = 0, Vb = ob(), Rb = rb(), hb(), !y || Ub === c.fingers || c.fingers === s || R() ? (lb(0, f), Wb = Ab(), 2 == Ub && (lb(1, e.touches[1]), Mb = Nb = ub(Vb[0].start, Vb[1].start)), (c.swipeStatus || c.pinchStatus) && (d = J(e, Tb))) : d = !1, d === !1 ? (Tb = x, J(e, Tb), d) : (c.hold && (ac = setTimeout(a.proxy(function () {
                    Sb.trigger("hold", [e.target]), c.hold && (d = c.hold.call(Sb, e, e.target))
                }, this), c.longTapThreshold)), kb(!0), null)
            }

        }

        function D(a) {
            var b = a.originalEvent ? a.originalEvent : a;
            if (Tb !== w && Tb !== x && !ib()) {
                var d, e = y ? b.touches[0] : b,
                    f = mb(e);
                if (Xb = Ab(), y && (Ub = b.touches.length), c.hold && clearTimeout(ac), Tb = v, 2 == Ub && (0 == Mb ? (lb(1, b.touches[1]), Mb = Nb = ub(Vb[0].start, Vb[1].start)) : (mb(b.touches[1]), Nb = ub(Vb[0].end, Vb[1].end), Qb = wb(Vb[0].end, Vb[1].end)), Ob = vb(Mb, Nb), Pb = Math.abs(Mb - Nb)), Ub === c.fingers || c.fingers === s || !y || R()) {
                    if (Kb = zb(f.start, f.end), P(a, Kb), Jb = xb(f.start, f.end), Lb = tb(), pb(Kb, Jb), (c.swipeStatus || c.pinchStatus) && (d = J(b, Tb)), !c.triggerOnTouchEnd || c.triggerOnTouchLeave) {
                        var g = !0;
                        if (c.triggerOnTouchLeave) {
                            var h = Bb(this);
                            g = Cb(f.end, h)
                        }!c.triggerOnTouchEnd && g ? Tb = I(v) : c.triggerOnTouchLeave && !g && (Tb = I(w)), (Tb == x || Tb == w) && J(b, Tb)
                    }

                } else Tb = x, J(b, Tb);
                d === !1 && (Tb = x, J(b, Tb))
            }

        }

        function E(a) {
            var b = a.originalEvent;
            return y && b.touches.length > 0 ? (gb(), !0) : (ib() && (Ub = Zb), Xb = Ab(), Lb = tb(), M() || !L() ? (Tb = x, J(b, Tb)) : c.triggerOnTouchEnd || 0 == c.triggerOnTouchEnd && Tb === v ? (a.preventDefault(), Tb = w, J(b, Tb)) : !c.triggerOnTouchEnd && Y() ? (Tb = w, K(b, Tb, n)) : Tb === v && (Tb = x, J(b, Tb)), kb(!1), null)
        }

        function F() {
            Ub = 0, Xb = 0, Wb = 0, Mb = 0, Nb = 0, Ob = 1, hb(), kb(!1)
        }

        function G(a) {
            var b = a.originalEvent;
            c.triggerOnTouchLeave && (Tb = I(w), J(b, Tb))
        }

        function H() {
            Sb.unbind(Eb, C), Sb.unbind(Ib, F), Sb.unbind(Fb, D), Sb.unbind(Gb, E), Hb && Sb.unbind(Hb, G), kb(!1)
        }

        function I(a) {
            var b = a,
                d = O(),
                e = L(),
                f = M();
            return !d || f ? b = x : !e || a != v || c.triggerOnTouchEnd && !c.triggerOnTouchLeave ? !e && a == w && c.triggerOnTouchLeave && (b = x) : b = w, b
        }

        function J(a, b) {
            var c = void 0;
            return V() || U() ? c = K(a, b, l) : (S() || R()) && c !== !1 && (c = K(a, b, m)), eb() && c !== !1 ? c = K(a, b, o) : fb() && c !== !1 ? c = K(a, b, p) : db() && c !== !1 && (c = K(a, b, n)), b === x && F(a), b === w && (y ? 0 == a.touches.length && F(a) : F(a)), c
        }

        function K(b, j, k) {
            var q = void 0;
            if (k == l) {
                if (Sb.trigger("swipeStatus", [j, Kb || null, Jb || 0, Lb || 0, Ub, Vb]), c.swipeStatus && (q = c.swipeStatus.call(Sb, b, j, Kb || null, Jb || 0, Lb || 0, Ub, Vb), q === !1)) return !1;
                if (j == w && T()) {
                    if (Sb.trigger("swipe", [Kb, Jb, Lb, Ub, Vb]), c.swipe && (q = c.swipe.call(Sb, b, Kb, Jb, Lb, Ub, Vb), q === !1)) return !1;
                    switch (Kb) {
                        case d:
                            Sb.trigger("swipeLeft", [Kb, Jb, Lb, Ub, Vb]), c.swipeLeft && (q = c.swipeLeft.call(Sb, b, Kb, Jb, Lb, Ub, Vb));
                            break;
                        case e:
                            Sb.trigger("swipeRight", [Kb, Jb, Lb, Ub, Vb]), c.swipeRight && (q = c.swipeRight.call(Sb, b, Kb, Jb, Lb, Ub, Vb));
                            break;
                        case f:
                            Sb.trigger("swipeUp", [Kb, Jb, Lb, Ub, Vb]), c.swipeUp && (q = c.swipeUp.call(Sb, b, Kb, Jb, Lb, Ub, Vb));
                            break;
                        case g:
                            Sb.trigger("swipeDown", [Kb, Jb, Lb, Ub, Vb]), c.swipeDown && (q = c.swipeDown.call(Sb, b, Kb, Jb, Lb, Ub, Vb))
                    }

                }

            }
            if (k == m) {
                if (Sb.trigger("pinchStatus", [j, Qb || null, Pb || 0, Lb || 0, Ub, Ob, Vb]), c.pinchStatus && (q = c.pinchStatus.call(Sb, b, j, Qb || null, Pb || 0, Lb || 0, Ub, Ob, Vb), q === !1)) return !1;
                if (j == w && Q()) switch (Qb) {
                    case h:
                        Sb.trigger("pinchIn", [Qb || null, Pb || 0, Lb || 0, Ub, Ob, Vb]), c.pinchIn && (q = c.pinchIn.call(Sb, b, Qb || null, Pb || 0, Lb || 0, Ub, Ob, Vb));
                        break;
                    case i:
                        Sb.trigger("pinchOut", [Qb || null, Pb || 0, Lb || 0, Ub, Ob, Vb]), c.pinchOut && (q = c.pinchOut.call(Sb, b, Qb || null, Pb || 0, Lb || 0, Ub, Ob, Vb))
                }

            }
            return k == n ? (j === x || j === w) && (clearTimeout(_b), clearTimeout(ac), Z() && !ab() ? ($b = Ab(), _b = setTimeout(a.proxy(function () {
                $b = null, Sb.trigger("tap", [b.target]), c.tap && (q = c.tap.call(Sb, b, b.target))
            }, this), c.doubleTapThreshold)) : ($b = null, Sb.trigger("tap", [b.target]), c.tap && (q = c.tap.call(Sb, b, b.target)))) : k == o ? (j === x || j === w) && (clearTimeout(_b), $b = null, Sb.trigger("doubletap", [b.target]), c.doubleTap && (q = c.doubleTap.call(Sb, b, b.target))) : k == p && (j === x || j === w) && (clearTimeout(_b), $b = null, Sb.trigger("longtap", [b.target]), c.longTap && (q = c.longTap.call(Sb, b, b.target))), q
        }

        function L() {
            var a = !0;
            return null !== c.threshold && (a = Jb >= c.threshold), a
        }

        function M() {
            var a = !1;
            return null !== c.cancelThreshold && null !== Kb && (a = qb(Kb) - Jb >= c.cancelThreshold), a
        }

        function N() {
            return null !== c.pinchThreshold ? Pb >= c.pinchThreshold : !0
        }

        function O() {
            var a;
            return a = c.maxTimeThreshold && Lb >= c.maxTimeThreshold ? !1 : !0
        }

        function P(a, b) {
            if (c.allowPageScroll === j || R()) a.preventDefault();
            else {
                var h = c.allowPageScroll === k;
                switch (b) {
                    case d:
                        (c.swipeLeft && h || !h && c.allowPageScroll != q) && a.preventDefault();
                        break;
                    case e:
                        (c.swipeRight && h || !h && c.allowPageScroll != q) && a.preventDefault();
                        break;
                    case f:
                        (c.swipeUp && h || !h && c.allowPageScroll != r) && a.preventDefault();
                        break;
                    case g:
                        (c.swipeDown && h || !h && c.allowPageScroll != r) && a.preventDefault()
                }

            }

        }

        function Q() {
            var a = W(),
                b = X(),
                c = N();
            return a && b && c
        }

        function R() {
            return !!(c.pinchStatus || c.pinchIn || c.pinchOut)
        }

        function S() {
            return !(!Q() || !R())
        }

        function T() {
            var a = O(),
                b = L(),
                c = W(),
                d = X(),
                e = M(),
                f = !e && d && c && b && a;
            return f
        }

        function U() {
            return !!(c.swipe || c.swipeStatus || c.swipeLeft || c.swipeRight || c.swipeUp || c.swipeDown)
        }

        function V() {
            return !(!T() || !U())
        }

        function W() {
            return Ub === c.fingers || c.fingers === s || !y
        }

        function X() {
            return 0 !== Vb[0].end.x
        }

        function Y() {
            return !!c.tap
        }

        function Z() {
            return !!c.doubleTap
        }

        function $() {
            return !!c.longTap
        }

        function _() {
            if (null == $b) return !1;
            var a = Ab();
            return Z() && a - $b <= c.doubleTapThreshold
        }

        function ab() {
            return _()
        }

        function bb() {
            return (1 === Ub || !y) && (isNaN(Jb) || Jb < c.threshold)
        }

        function cb() {
            return Lb > c.longTapThreshold && t > Jb
        }

        function db() {
            return !(!bb() || !Y())
        }

        function eb() {
            return !(!_() || !Z())
        }

        function fb() {
            return !(!cb() || !$())
        }

        function gb() {
            Yb = Ab(), Zb = event.touches.length + 1
        }

        function hb() {
            Yb = 0, Zb = 0
        }

        function ib() {
            var a = !1;
            if (Yb) {
                var b = Ab() - Yb;
                b <= c.fingerReleaseThreshold && (a = !0)
            }
            return a
        }

        function jb() {
            return !(Sb.data(B + "_intouch") !== !0)
        }

        function kb(a) {
            a === !0 ? (Sb.bind(Fb, D), Sb.bind(Gb, E), Hb && Sb.bind(Hb, G)) : (Sb.unbind(Fb, D, !1), Sb.unbind(Gb, E, !1), Hb && Sb.unbind(Hb, G, !1)), Sb.data(B + "_intouch", a === !0)
        }

        function lb(a, b) {
            var c = void 0 !== b.identifier ? b.identifier : 0;
            return Vb[a].identifier = c, Vb[a].start.x = Vb[a].end.x = b.pageX || b.clientX, Vb[a].start.y = Vb[a].end.y = b.pageY || b.clientY, Vb[a]
        }

        function mb(a) {
            var b = void 0 !== a.identifier ? a.identifier : 0,
                c = nb(b);
            return c.end.x = a.pageX || a.clientX, c.end.y = a.pageY || a.clientY, c
        }

        function nb(a) {
            for (var b = 0; b < Vb.length; b++)
                if (Vb[b].identifier == a) return Vb[b]
        }

        function ob() {
            for (var a = [], b = 0; 5 >= b; b++) a.push({
                start: {
                    x: 0,
                    y: 0
                },
                end: {
                    x: 0,
                    y: 0
                },
                identifier: 0
            });
            return a
        }

        function pb(a, b) {
            b = Math.max(b, qb(a)), Rb[a].distance = b
        }

        function qb(a) {
            return Rb[a] ? Rb[a].distance : void 0
        }

        function rb() {
            var a = {

            };
            return a[d] = sb(d), a[e] = sb(e), a[f] = sb(f), a[g] = sb(g), a
        }

        function sb(a) {
            return {
                direction: a,
                distance: 0
            }

        }

        function tb() {
            return Xb - Wb
        }

        function ub(a, b) {
            var c = Math.abs(a.x - b.x),
                d = Math.abs(a.y - b.y);
            return Math.round(Math.sqrt(c * c + d * d))
        }

        function vb(a, b) {
            var c = b / a * 1;
            return c.toFixed(2)
        }

        function wb() {
            return 1 > Ob ? i : h
        }

        function xb(a, b) {
            return Math.round(Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2)))
        }

        function yb(a, b) {
            var c = a.x - b.x,
                d = b.y - a.y,
                e = Math.atan2(d, c),
                f = Math.round(180 * e / Math.PI);
            return 0 > f && (f = 360 - Math.abs(f)), f
        }

        function zb(a, b) {
            var c = yb(a, b);
            return 45 >= c && c >= 0 ? d : 360 >= c && c >= 315 ? d : c >= 135 && 225 >= c ? e : c > 45 && 135 > c ? g : f
        }

        function Ab() {
            var a = new Date;
            return a.getTime()
        }

        function Bb(b) {
            b = a(b);
            var c = b.offset(),
                d = {
                    left: c.left,
                    right: c.left + b.outerWidth(),
                    top: c.top,
                    bottom: c.top + b.outerHeight()
                };
            return d
        }

        function Cb(a, b) {
            return a.x > b.left && a.x < b.right && a.y > b.top && a.y < b.bottom
        }
        var Db = y || A || !c.fallbackToMouseEvents,
            Eb = Db ? A ? z ? "MSPointerDown" : "pointerdown" : "touchstart" : "mousedown",
            Fb = Db ? A ? z ? "MSPointerMove" : "pointermove" : "touchmove" : "mousemove",
            Gb = Db ? A ? z ? "MSPointerUp" : "pointerup" : "touchend" : "mouseup",
            Hb = Db ? null : "mouseleave",
            Ib = A ? z ? "MSPointerCancel" : "pointercancel" : "touchcancel",
            Jb = 0,
            Kb = null,
            Lb = 0,
            Mb = 0,
            Nb = 0,
            Ob = 1,
            Pb = 0,
            Qb = 0,
            Rb = null,
            Sb = a(b),
            Tb = "start",
            Ub = 0,
            Vb = null,
            Wb = 0,
            Xb = 0,
            Yb = 0,
            Zb = 0,
            $b = 0,
            _b = null,
            ac = null;
        try {
            Sb.bind(Eb, C), Sb.bind(Ib, F)
        } catch (bc) {
            a.error("events not supported " + Eb + "," + Ib + " on jQuery.swipe")
        }
        this.enable = function () {
            return Sb.bind(Eb, C), Sb.bind(Ib, F), Sb
        }, this.disable = function () {
            return H(), Sb
        }, this.destroy = function () {
            return H(), Sb.data(B, null), Sb
        }, this.option = function (b, d) {
            if (void 0 !== c[b]) {
                if (void 0 === d) return c[b];
                c[b] = d
            } else a.error("Option " + b + " does not exist on jQuery.swipe.options");
            return null
        }

    }
    var d = "left",
        e = "right",
        f = "up",
        g = "down",
        h = "in",
        i = "out",
        j = "none",
        k = "auto",
        l = "swipe",
        m = "pinch",
        n = "tap",
        o = "doubletap",
        p = "longtap",
        q = "horizontal",
        r = "vertical",
        s = "all",
        t = 10,
        u = "start",
        v = "move",
        w = "end",
        x = "cancel",
        y = "ontouchstart" in window,
        z = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled,
        A = window.navigator.pointerEnabled || window.navigator.msPointerEnabled,
        B = "TouchSwipe",
        C = {
            fingers: 1,
            threshold: 75,
            cancelThreshold: null,
            pinchThreshold: 20,
            maxTimeThreshold: null,
            fingerReleaseThreshold: 250,
            longTapThreshold: 500,
            doubleTapThreshold: 200,
            swipe: null,
            swipeLeft: null,
            swipeRight: null,
            swipeUp: null,
            swipeDown: null,
            swipeStatus: null,
            pinchIn: null,
            pinchOut: null,
            pinchStatus: null,
            click: null,
            tap: null,
            doubleTap: null,
            longTap: null,
            hold: null,
            triggerOnTouchEnd: !0,
            triggerOnTouchLeave: !1,
            allowPageScroll: "auto",
            fallbackToMouseEvents: !0,
            excludedElements: "label, button, input, select, textarea, a, .noSwipe"
        };
    a.fn.swipe = function (c) {
        var d = a(this),
            e = d.data(B);
        if (e && "string" == typeof c) {
            if (e[c]) return e[c].apply(this, Array.prototype.slice.call(arguments, 1));
            a.error("Method " + c + " does not exist on jQuery.swipe")
        } else if (!(e || "object" != typeof c && c)) return b.apply(this, arguments);
        return d
    }, a.fn.swipe.defaults = C, a.fn.swipe.phases = {
        PHASE_START: u,
        PHASE_MOVE: v,
        PHASE_END: w,
        PHASE_CANCEL: x
    }, a.fn.swipe.directions = {
        LEFT: d,
        RIGHT: e,
        UP: f,
        DOWN: g,
        IN: h,
        OUT: i
    }, a.fn.swipe.pageScroll = {
        NONE: j,
        HORIZONTAL: q,
        VERTICAL: r,
        AUTO: k
    }, a.fn.swipe.fingers = {
        ONE: 1,
        TWO: 2,
        THREE: 3,
        ALL: s
    }

});
var wW, wH, body = $("body"),
    menu = $("#menu"),
    burger = $("#hamburger"),
    sections = ["home", "about", "events", "schedule", "pronight", "gallery", "sponsors", "team"],
    pictures = {

    },
    endResize, trst = $("#bg-transitions"),
    currentSectionName, progressTime,
    progressschedule = $("#progress-schedule"),
    progressOverlay = $("#progress-overlay"),
    progressSpeed = 1500,
    progressTimer, paused = "paused " === progressschedule.data("play-state") ? !0 : !1,
    transitioning = !1,
    dragging = !1,
    mousewheelevt = /Firefox/i.test(navigator.userAgent) ? "DOMMouseScroll" : "mousewheel",
    video = $("#bg-video").get(0),
    diapo, currentSet, currentPic = 1,
    fading = !1,
    idleTime = 0,
    content = $("#content"),
    prOverlay = $("#product-overlay"),
    prInfo = $("#product-overlay .product-info"),
    OSName = -1 != navigator.appVersion.indexOf("Win") ? "Windows" : "Other",
    isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor),
    isOldIE = $("html").hasClass("ie9") || $("html").hasClass("ie8") ? !0 : !1;
menu.mouseenter(function () {
        body.addClass("menu")
    }).mouseleave(function () {
        dragging || body.removeClass("menu")
    }), $("#hamburger").on("click touchend", function (a) {
        paused = !paused, a.preventDefault(), body.toggleClass("menu")
    }),
    $("#drag-handle").mousedown(function (a) {
        paused = !0, dragging = !0, $("body").addClass("dragging"), progressTime = a.pageX / wW * 100, moveProgressschedule()
    }),
    $(document).mousemove(function (a) {
        dragging && (progressTime = a.pageX / wW * 100, moveProgressschedule()), idleTime = 0
    }).mouseup(function () {
        if (dragging) {
            dragging = !1, $("body").removeClass("dragging");
            var a = setDestination(progressTime);
            a !== currentSectionName && changeSection(a)
        }

    }), $("#menu .overlay-link").on("click touchend", function (a) {
        a.preventDefault();
        var b = $(this).attr("rel");
        b !== currentSectionName && (isOldIE ? window.location = "/" + b : (setProgressTime(b), paused = !0, moveProgressschedule(), changeSection(b)))
    }), $("#menu .overlay-link").hover(function () {
        $("a[href=" + $(this).attr("rel") + "]").addClass("hover")
    }, function () {
        $("a[href=" + $(this).attr("rel") + "]").removeClass("hover")
    }), $(document).bind(mousewheelevt, function (a) {
        if (!(transitioning || fading || isOldIE || $("body").hasClass("overlay-visible"))) {
            paused = !0, idleTime = 0;
            var b, c = window.event || a,
                c = c.originalEvent ? c.originalEvent : c,
                d = c.detail ? -40 * c.detail : c.wheelDelta;
            b = d > 0 ? getPrevious(currentSectionName) : getNext(currentSectionName), setProgressTime(b), changeSection(b), moveProgressschedule()
        }

    }), $("#content").swipe({
        swipeUp: function () {
            if (!transitioning && !fading && !$("body").hasClass("overlay-visible")) {
                paused = !0, idleTime = 0;
                var a = getNext(currentSectionName);
                setProgressTime(a), changeSection(a), moveProgressschedule()
            }

        },
        swipeDown: function () {
            if (!transitioning && !fading && !$("body").hasClass("overlay-visible")) {
                paused = !0, idleTime = 0;
                var a = getPrevious(currentSectionName);
                setProgressTime(a), changeSection(a), moveProgressschedule()
            }

        },
        threshold: 100,
        allowPageScroll: "vertical"
    }), $(document).keydown(function (a) {
        if (27 === a.which && ($("#product-overlay, .gin-overlay, #d1").removeClass("visible"), $("body").removeClass("overlay-visible gin-overlay-visible d1-visible")), !transitioning && !isOldIE && !$("body").hasClass("overlay-visible")) {
            paused = !0;
            var b;
            switch (a.which) {
                case 37:
                    b = getPrevious(currentSectionName);
                    break;
                case 38:
                    b = getPrevious(currentSectionName);
                    break;
                case 39:
                    b = getNext(currentSectionName);
                    break;
                case 40:
                    b = getNext(currentSectionName)
            }
            void 0 !== b && (setProgressTime(b), changeSection(b), moveProgressschedule())
        }
        idleTime = 0
    }),
    $(document).keydown(function (a) {
        if (27 === a.which && ($("#product-overlay, .gin-overlay, #d2").removeClass("visible"), $("body").removeClass("overlay-visible gin-overlay-visible d2-visible")), !transitioning && !isOldIE && !$("body").hasClass("overlay-visible")) {
            paused = !0;
            var b;
            switch (a.which) {
                case 37:
                    b = getPrevious(currentSectionName);
                    break;
                case 38:
                    b = getPrevious(currentSectionName);
                    break;
                case 39:
                    b = getNext(currentSectionName);
                    break;
                case 40:
                    b = getNext(currentSectionName)
            }
            void 0 !== b && (setProgressTime(b), changeSection(b), moveProgressschedule())
        }
        idleTime = 0
    }),




    $(document).on("click", ".reveal-overlay", function (a) {

        a.preventDefault(), paused = !0, layoutSettings();

        var b = $("#" + $(this).data("target")),
            c = $(this).data("target") + "-visible";

        $("body").addClass("overlay-visible " + c), b.addClass("visible"), "s1" === $(this).data("target") ? (b.css({

            transform: "translate3d(0,-" + wH + "px,0)"

        }), $("html").hasClass("ie9") && b.css({

            transform: "translateY(-" + wH + "px)"

        }), $(".products-container").bind("scroll", function () {

            $(".products-container").scrollTop() > 20 ? $(".s-header").addClass("sticky") : $(".s-header").removeClass("sticky")

        })) : "gin-of-the-week" === $(this).data("target") && history.pushState(null, "", "/schedule/" + $(this).data("slug"))

    }),




    $(document).on("click", ".close-overlay", function (a) {

        a.preventDefault(), $(this).blur();

        var b = $("#" + $(this).data("target")),
            c = $(this).data("target") + "-visible";

        $("body").removeClass("overlay-visible " + c), "d1" !== $(this).data("target") && b.css({

            transform: "translate3d(0,0px,0)"

        })

    }), $(document).on("click", ".close-overlay", function (a) {

        a.preventDefault(), $(this).blur();

        var b = $("#" + $(this).data("target")),
            c = $(this).data("target") + "-visible";

        $("body").removeClass("overlay-visible " + c), "d2" !== $(this).data("target") && b.css({

            transform: "translate3d(0,0px,0)"

        })

    }), $(document).on("click touchend", "#product-overlay", function (a) {

        a.preventDefault(), dragging || (history.pushState(null, "", "/www.taarangana.com/events"), unfoldProduct())

    }), $(document).on("click touchend", ".gin-overlay", function (a) {

        a.preventDefault(), $(this).removeClass("visible"), $("body").removeClass("overlay-visible gin-overlay-visible"), history.pushState(null, "", "/schedule")

    }), $(document).on("click", ".product-info > div", function (a) {

        a.stopPropagation()

    }),



    $(document).on("click", ".reveal-overlay", function (a) {

        a.preventDefault(), paused = !0, layoutSettings();

        var b = $("#" + $(this).data("target")),
            c = $(this).data("target") + "-visible";

        $("body").addClass("overlay-visible " + c), b.addClass("visible"), "s2" === $(this).data("target") ? (b.css({

            transform: "translate3d(0,-" + wH + "px,0)"

        }), $("html").hasClass("ie9") && b.css({

            transform: "translateY(-" + wH + "px)"

        }), $(".products-container").bind("scroll", function () {

            $(".products-container").scrollTop() > 20 ? $(".s-header").addClass("sticky") : $(".s-header").removeClass("sticky")

        })) : "gin-of-the-week" === $(this).data("target") && history.pushState(null, "", "/schedule/" + $(this).data("slug"))

    }), $(document).on("click", ".close-overlay", function (a) {

        a.preventDefault(), $(this).blur();

        var b = $("#" + $(this).data("target")),
            c = $(this).data("target") + "-visible";

        $("body").removeClass("overlay-visible " + c), "d1" !== $(this).data("target") && b.css({

            transform: "translate3d(0,0px,0)"

        })



    }), $(document).on("click", ".close-overlay", function (a) {

        a.preventDefault(), $(this).blur();

        var b = $("#" + $(this).data("target")),
            c = $(this).data("target") + "-visible";

        $("body").removeClass("overlay-visible " + c), "d2" !== $(this).data("target") && b.css({

            transform: "translate3d(0,0px,0)"

        })



    }), $(document).on("click touchend", "#product-overlay", function (a) {

        a.preventDefault(), dragging || (history.pushState(null, "", "/www.taarangana.com/events"), unfoldProduct())

    }), $(document).on("click touchend", ".gin-overlay", function (a) {

        a.preventDefault(), $(this).removeClass("visible"), $("body").removeClass("overlay-visible gin-overlay-visible"), history.pushState(null, "", "/schedule")

    }), $(document).on("click", ".product-info > div", function (a) {

        a.stopPropagation()

    }), $(document).on("click", ".reveal-overlay", function (a) {

        a.preventDefault(), paused = !0, layoutSettings();

        var b = $("#" + $(this).data("target")),
            c = $(this).data("target") + "-visible";

        $("body").addClass("overlay-visible " + c), b.addClass("visible"), "s3" === $(this).data("target") ? (b.css({

            transform: "translate3d(0,-" + wH + "px,0)"

        }), $("html").hasClass("ie9") && b.css({

            transform: "translateY(-" + wH + "px)"

        }), $(".products-container").bind("scroll", function () {

            $(".products-container").scrollTop() > 20 ? $(".s-header").addClass("sticky") : $(".s-header").removeClass("sticky")

        })) : "gin-of-the-week" === $(this).data("target") && history.pushState(null, "", "/schedule/" + $(this).data("slug"))

    }), $(document).on("click", ".close-overlay", function (a) {

        a.preventDefault(), $(this).blur();

        var b = $("#" + $(this).data("target")),
            c = $(this).data("target") + "-visible";

        $("body").removeClass("overlay-visible " + c), "d1" !== $(this).data("target") && b.css({

            transform: "translate3d(0,0px,0)"

        })

    }), $(document).on("click", ".close-overlay", function (a) {

        a.preventDefault(), $(this).blur();

        var b = $("#" + $(this).data("target")),
            c = $(this).data("target") + "-visible";

        $("body").removeClass("overlay-visible " + c), "d2" !== $(this).data("target") && b.css({

            transform: "translate3d(0,0px,0)"

        })

    }), $(document).on("click touchend", "#product-overlay", function (a) {

        a.preventDefault(), dragging || (history.pushState(null, "", "/www.taarangana.com/events"), unfoldProduct())

    }), $(document).on("click touchend", ".gin-overlay", function (a) {

        a.preventDefault(), $(this).removeClass("visible"), $("body").removeClass("overlay-visible gin-overlay-visible"), history.pushState(null, "", "/schedule")

    }), $(document).on("click", ".product-info > div", function (a) {

        a.stopPropagation()

    });

var introHeight = $(".scroll-down").height(),
    introHolder = $(".scroll-down > span"),
    currentTitle = 0,
    introSwitchingTime = 3e3;



$(document).on("click", "#d1", function (a) {

        a.preventDefault(), $("body").removeClass("overlay-visible d1-visible")

    }), $(document).on("click", "#d2", function (a) {

        a.preventDefault(), $("body").removeClass("overlay-visible d2-visible")

    }), $(document).on("click", "#d1 li", function (a) {

        a.preventDefault(), a.stopPropagation()

    }), $(document).on("click", "#d2 li", function (a) {

        a.preventDefault(), a.stopPropagation()

    }), $(document).on("click touchend", "#s1 article", function (a) {

        if (a.preventDefault(), !dragging) {

            var b = $(this).find(".img-container").data("product-img"),
                c = $(this).find("h5").text(),
                d = $(this).find(".description").text(),
                e = $(this).find(".price").html(),
                f = $(this).find(".added").text(),
                g = $(this).find(".quantity").text();

            prOverlay.find("h4").text(c), prOverlay.find("p").text(d), prOverlay.find(".price").html($(this).parent("li").hasClass("sold-out") ? "SOLD" : e), prOverlay.find(".price").addClass($(this).find(".price").hasClass("on-sale") ? "on-sale" : "regular-price"), prOverlay.find(".added").text(f), prOverlay.find(".quantity").text(g), prOverlay.find(".product-picture").css("background", 'url("' + b + '")'), history.pushState(null, "", "/events/" + $(this).data("slug")), unfoldProduct($(this))

        }


    }),


    $(document).on("click", "#d1", function (a) {

        a.preventDefault(), $("body").removeClass("overlay-visible d1-visible")

    }), $(document).on("click", "#d2", function (a) {

        a.preventDefault(), $("body").removeClass("overlay-visible d2-visible")

    }), $(document).on("click", "#d1 li", function (a) {

        a.preventDefault(), a.stopPropagation()

    }), $(document).on("click", "#d2 li", function (a) {

        a.preventDefault(), a.stopPropagation()

    }), $(document).on("click touchend", "#s2 article", function (a) {

        if (a.preventDefault(), !dragging) {

            var b = $(this).find(".img-container").data("product-img"),
                c = $(this).find("h5").text(),
                d = $(this).find(".description").text(),
                e = $(this).find(".price").html(),
                f = $(this).find(".added").text(),
                g = $(this).find(".quantity").text();

            prOverlay.find("h4").text(c), prOverlay.find("p").text(d), prOverlay.find(".price").html($(this).parent("li").hasClass("sold-out") ? "SOLD" : e), prOverlay.find(".price").addClass($(this).find(".price").hasClass("on-sale") ? "on-sale" : "regular-price"), prOverlay.find(".added").text(f), prOverlay.find(".quantity").text(g), prOverlay.find(".product-picture").css("background", 'url("' + b + '")'), history.pushState(null, "", "/events/" + $(this).data("slug")), unfoldProduct($(this))

        }


    }),


    $(document).on("click", "#d1", function (a) {

        a.preventDefault(), $("body").removeClass("overlay-visible d1-visible")

    }), $(document).on("click", "#d2", function (a) {

        a.preventDefault(), $("body").removeClass("overlay-visible d2-visible")

    }), $(document).on("click", "#d1 li", function (a) {

        a.preventDefault(), a.stopPropagation()

    }), $(document).on("click", "#d2 li", function (a) {

        a.preventDefault(), a.stopPropagation()

    }), $(document).on("click touchend", "#s3 article", function (a) {

        if (a.preventDefault(), !dragging) {

            var b = $(this).find(".img-container").data("product-img"),
                c = $(this).find("h5").text(),
                d = $(this).find(".description").text(),
                e = $(this).find(".price").html(),
                f = $(this).find(".added").text(),
                g = $(this).find(".quantity").text();

            prOverlay.find("h4").text(c), prOverlay.find("p").text(d), prOverlay.find(".price").html($(this).parent("li").hasClass("sold-out") ? "SOLD" : e), prOverlay.find(".price").addClass($(this).find(".price").hasClass("on-sale") ? "on-sale" : "regular-price"), prOverlay.find(".added").text(f), prOverlay.find(".quantity").text(g), prOverlay.find(".product-picture").css("background", 'url("' + b + '")'), history.pushState(null, "", "/events/" + $(this).data("slug")), unfoldProduct($(this))

        }


    }),



    $(document).ready(function () {

        currentSectionName = $("section.tl").attr("id").replace("#", ""), $("section.tl").addClass("current"), getPictures(), layoutSettings(), setupBackgrounds(), setProgressTime(currentSectionName), $("body").hasClass("s1-visible") && ($("#s1").css({

            transform: "translate3d(0,-" + wH + "px,0)"

        }), $(".products-container").bind("scroll", function () {

            $(".products-container").scrollTop() > 20 ? $(".s-header").addClass("sticky") : $(".s-header").removeClass("sticky")

        }), $(".product-picture-drawer").css({

            transform: "translate3d(0," + wH + "px,0)"

        })), isSafari && $("html").addClass("safari"), $("html").removeClass("no-js")

    }), $(window).load(function () {

        var a = $("#sales-vignette .img-holder").height(),
            b = $("#sales-vignette img").height(),
            c = b - a;

        $("#sales-vignette img").css({

            transform: "translateY(-" + c / 2 + "px)"

        }), setTimeout(function () {

            $("body").removeClass("preload")

        }, 1500), setTimeout(function () {

            $("#preloader").css("display", "none")

        }, 2600), "home" === currentSectionName ? video.play() : video.pause(), progressTimer = setInterval(progress, progressSpeed), setInterval(timerIncrement, 1e3), "home" === currentSectionName && setInterval(switchIntro, introSwitchingTime)

    }), $(window).resize(function () {

        body.addClass("resizing"), layoutSettings(), moveProgressschedule(), body.hasClass("s1-visible") && $("#s1").css({

            transform: "translate3d(0,-" + wH + "px,0)"

        }), clearTimeout(endResize), endResize = setTimeout(function () {

            body.removeClass("resizing")

        }, 500)

    }), window.onpopstate = function (a) {

        null !== a.state && currentSectionName !== a.state && (setProgressTime(a.state), moveProgressschedule(), changeSection(a.state))

    }, $(document).on("touchmove", function () {

        dragging = !0

    }), $(document).on("touchend", function () {

        dragging = !1

    });



$(document).ready(function () {

    currentSectionName = $("section.tl").attr("id").replace("#", ""), $("section.tl").addClass("current"), getPictures(), layoutSettings(), setupBackgrounds(), setProgressTime(currentSectionName), $("body").hasClass("s2-visible") && ($("#s2").css({

        transform: "translate3d(0,-" + wH + "px,0)"

    }), $(".products-container").bind("scroll", function () {

        $(".products-container").scrollTop() > 20 ? $(".s-header").addClass("sticky") : $(".s-header").removeClass("sticky")

    }), $(".product-picture-drawer").css({

        transform: "translate3d(0," + wH + "px,0)"

    })), isSafari && $("html").addClass("safari"), $("html").removeClass("no-js")

}), $(window).load(function () {

    var a = $("#sales-vignette .img-holder").height(),
        b = $("#sales-vignette img").height(),
        c = b - a;

    $("#sales-vignette img").css({

        transform: "translateY(-" + c / 2 + "px)"

    }), setTimeout(function () {

        $("body").removeClass("preload")

    }, 1500), setTimeout(function () {

        $("#preloader").css("display", "none")

    }, 2600), "home" === currentSectionName ? video.play() : video.pause(), progressTimer = setInterval(progress, progressSpeed), setInterval(timerIncrement, 1e3), "home" === currentSectionName && setInterval(switchIntro, introSwitchingTime)

}), $(window).resize(function () {

    body.addClass("resizing"), layoutSettings(), moveProgressschedule(), body.hasClass("s2-visible") && $("#s2").css({

        transform: "translate3d(0,-" + wH + "px,0)"

    }), clearTimeout(endResize), endResize = setTimeout(function () {

        body.removeClass("resizing")

    }, 500)

}), window.onpopstate = function (a) {

    null !== a.state && currentSectionName !== a.state && (setProgressTime(a.state), moveProgressschedule(), changeSection(a.state))

}, $(document).on("touchmove", function () {

    dragging = !0

}), $(document).on("touchend", function () {

    dragging = !1

});



$(document).ready(function () {

    currentSectionName = $("section.tl").attr("id").replace("#", ""), $("section.tl").addClass("current"), getPictures(), layoutSettings(), setupBackgrounds(), setProgressTime(currentSectionName), $("body").hasClass("s3-visible") && ($("#s3").css({

        transform: "translate3d(0,-" + wH + "px,0)"

    }), $(".products-container").bind("scroll", function () {

        $(".products-container").scrollTop() > 20 ? $(".s-header").addClass("sticky") : $(".s-header").removeClass("sticky")

    }), $(".product-picture-drawer").css({

        transform: "translate3d(0," + wH + "px,0)"

    })), isSafari && $("html").addClass("safari"), $("html").removeClass("no-js")

}), $(window).load(function () {

    var a = $("#sales-vignette .img-holder").height(),
        b = $("#sales-vignette img").height(),
        c = b - a;

    $("#sales-vignette img").css({

        transform: "translateY(-" + c / 2 + "px)"

    }), setTimeout(function () {

        $("body").removeClass("preload")

    }, 1500), setTimeout(function () {

        $("#preloader").css("display", "none")

    }, 2600), "home" === currentSectionName ? video.play() : video.pause(), progressTimer = setInterval(progress, progressSpeed), setInterval(timerIncrement, 1e3), "home" === currentSectionName && setInterval(switchIntro, introSwitchingTime)

}), $(window).resize(function () {

    body.addClass("resizing"), layoutSettings(), moveProgressschedule(), body.hasClass("s3-visible") && $("#s3").css({

        transform: "translate3d(0,-" + wH + "px,0)"

    }), clearTimeout(endResize), endResize = setTimeout(function () {

        body.removeClass("resizing")

    }, 500)

}), window.onpopstate = function (a) {

    null !== a.state && currentSectionName !== a.state && (setProgressTime(a.state), moveProgressschedule(), changeSection(a.state))

}, $(document).on("touchmove", function () {

    dragging = !0

}), $(document).on("touchend", function () {

    dragging = !1

});
//audio here
if ($('#pause').css('display') == 'block') {
    document.querySelector("audio").play();
}
